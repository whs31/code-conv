---
title: 3. CMake - Написание правильного CMake-файла
tags:
  - cmake
---
### Основные правила
Файл `CMakeLists.txt` - это детальное описание того, как файлы исходного кода должны собираться в один или несколько бинарных файлов (т.е. исполняемых файлов или библиотек).

Как было сказано в главе "[[commands|Основные команды]]", любой правильно написанный CMake-файл должен содержать 3 секции:
- Конфигурация
- Сборка
- Экспорт

Так как иногда в рамках разработки или специализированной поставки требуется использование CMake без связки с пакетным менеджером, то всегда должна присутствовать возможность равноценного использования вашего проекта как в виде подпроекта (*subdirectory*), так и в виде полноценной *экспортированной библиотеки*.

Так как одной из основных целевых ОС у нас является *Astra Linux 1.7*, версия CMake ограничена сверху версией **3.16**.

